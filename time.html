<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Select Time ‚è∞</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- EmailJS library -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("YOUR_PUBLIC_KEY"); // üîë replace with your public key
    })();
  </script>
</head>
<body>
  <main class="centered">
    <section class="card content">
      <h2>Select your time ‚è∞</h2>
      <div id="time-grid" class="grid"></div>
    </section>
  </main>

  <script>
    const grid = document.getElementById("time-grid");

    // Format HH:MM
    function formatTime(hour, minute) {
      let h = hour.toString().padStart(2, "0");
      let m = minute.toString().padStart(2, "0");
      return `${h}:${m}`;
    }

    // Generate slots from 08:00 ‚Üí 00:00
    let hour = 8, minute = 0;
    while (!(hour === 0 && minute === 30)) {
      const timeStr = formatTime(hour, minute);

      const btn = document.createElement("button");
      btn.className = "option time-btn";
      btn.textContent = timeStr;
      grid.appendChild(btn);

      // Click event ‚Üí confirmation ‚Üí EmailJS send
      btn.addEventListener("click", () => {
        if (confirm(`Do you want to confirm ${timeStr}?`)) {
          emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", {
              time: timeStr,
              to_email: "devanshjain535@gmail.com"
          })
          .then(() => {
            alert(`‚úÖ ${timeStr} has been selected and mailed!`);
          }, (err) => {
            alert("‚ùå Failed to send mail: " + JSON.stringify(err));
          });
        }
      });

      // Increment 30 minutes
      minute += 30;
      if (minute === 60) {
        minute = 0;
        hour++;
      }
      if (hour === 24 && minute === 0) break; // stop at 00:00
    }

    // Add 00:00 manually at the end
    const midnightBtn = document.createElement("button");
    midnightBtn.className = "option time-btn";
    midnightBtn.textContent = "00:00";
    grid.appendChild(midnightBtn);
    midnightBtn.addEventListener("click", () => {
      if (confirm(`Do you want to confirm 00:00?`)) {
        emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", {
            time: "00:00",
            to_email: "devanshjain535@gmail.com"
        })
        .then(() => {
          alert(`‚úÖ 00:00 has been selected and mailed!`);
        }, (err) => {
          alert("‚ùå Failed to send mail: " + JSON.stringify(err));
        });
      }
    });
  </script>
</body>
</html>
>
